---
---
<!DOCTYPE html>

<html lang="{{ site.lang | default: 'en-US' }}">
{%- include head.html -%}
<body>
  {%- include skip_nav.html -%}
  <div class="page-wrap">
    {%- include header.html -%}
    <div class="main-wrapper">
      {%- include side_bar.html -%}
      <div class="main-content-wrap">
        <div class="main-content">
          {%- if site.heading_anchors -%}
            {%- include vendor/anchor_headings.html -%}
          {%- endif -%}
          <main>
            {{ content }}
          </main>
          {%- include footer.html -%}
        </div>
      </div>
    </div>
  </div>
  {%- if site.search_enabled != false -%}
    {%- include search.html -%}
  {%- endif -%}

  <!-- =================================================================== -->
  <!-- == NUESTRO SCRIPT PERSONALIZADO INYECTADO DIRECTAMENTE AL FINAL == -->
  <!-- =================================================================== -->
  <script>
  // Espera a que todo el contenido de la página esté cargado
  document.addEventListener('DOMContentLoaded', function() {
    console.log('[DEBUG] Custom link script started from default layout.');
    const links = document.querySelectorAll('a');
    console.log(`[DEBUG] Found ${links.length} links on the page.`);
    const currentHost = window.location.hostname;
    console.log(`[DEBUG] Current site host is: ${currentHost}`);
    links.forEach(link => {
      if (link.hostname !== currentHost && link.hostname !== '') {
        console.log(`[DEBUG] Modifying external link: ${link.href}`);
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
      }
    });
    console.log('[DEBUG] Custom link script finished.');
  });
  </script>
  <!-- =================================================================== -->

</body>
</html>
